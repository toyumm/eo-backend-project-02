<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>비밀번호 찾기</title>

    <!-- 토큰 추가    -->
    <meta name="_csrf" th:content="${_csrf?.token}">
    <meta name="_csrf_header" th:content="${_csrf?.headerName}">

    <!-- 링크 연결 css    -->
    <link rel="stylesheet" href="/css/reset.css">
    <link rel="stylesheet" href="/css/findpassword.css">
    <script src="/js/findpassword.js" defer></script>


</head>
<body id="find-password">
<main id="main-content">

    <div id="password-find-container">
        <!-- 로고 + 제목 -->
        <div id="title-area">
            <a th:href="@{/}">
                <img src="/images/logo.png" alt="OneBoard">
            </a>
            <h2>비밀번호 찾기</h2>
        </div>

        <!-- 비밀번호찾기 폼 -->
        <form id="find-password-form">

            <!-- 1단계: 이메일 입력 -->
            <div class="form-row" id="email-row">
                <label for="email">이메일</label>
                <input type="email" id="email" name="email" placeholder="example@email.com" required>
                <button type="button" id="verify-email" class="check-btn">인증</button>
            </div>

            <!-- 2단계: 인증번호 입력 (처음엔 숨김) -->
            <div class="form-row" id="verify-row" style="display:none;">
                <label for="verify-code">인증번호</label>
                <input type="text" id="verify-code" placeholder="인증번호 6자리" maxlength="6">
                <button type="button" id="verify-confirm" class="check-btn">인증확인</button>
            </div>

            <!-- 3단계: 새 비밀번호 입력 (처음엔 숨김) -->
            <div class="form-row" id="password-row" style="display:none;">
                <label for="new-password">새 비밀번호</label>
                <input type="password" id="new-password" placeholder="새 비밀번호 (8~20자)" minlength="8" maxlength="20">
            </div>

            <div class="form-row" id="password-confirm-row" style="display:none;">
                <label for="password-confirm">비밀번호 확인</label>
                <input type="password" id="password-confirm" placeholder="비밀번호 확인">
            </div>

            <!-- 에러 메시지 -->
            <div id="error-message" style="display:none;"></div>

            <!-- 버튼 -->
            <div class="button">
                <button type="button" id="cancel-btn"><a th:href="@{/login}">취소</a></button>
                <button type="button" id="submit-btn" style="display:none;">비밀번호 변경</button>
            </div>

        </form>

    </div>
</main>

</body>
</html>